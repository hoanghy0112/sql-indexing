# =============================================================================
# Database RAG & Analytics Platform - Environment Configuration
# Copy this file to .env and configure your values
# =============================================================================

# -----------------------------------------------------------------------------
# System PostgreSQL Database
# -----------------------------------------------------------------------------
POSTGRES_USER=sqlindex
POSTGRES_PASSWORD=sqlindex_secret_change_me
POSTGRES_DB=sqlindex_system
POSTGRES_PORT=5432

# -----------------------------------------------------------------------------
# Qdrant Vector Database
# -----------------------------------------------------------------------------
QDRANT_HTTP_PORT=6333
QDRANT_GRPC_PORT=6334

# -----------------------------------------------------------------------------
# Kafka & Zookeeper
# -----------------------------------------------------------------------------
ZOOKEEPER_PORT=2181
KAFKA_PORT=29092

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# Ollama LLM Server
# -----------------------------------------------------------------------------
OLLAMA_PORT=11434
# Model to use for LLM decisions (indexing strategy, query generation)
OLLAMA_MODEL=qwen3:4b

# -----------------------------------------------------------------------------
# JWT Authentication
# IMPORTANT: Change JWT_SECRET in production!
# -----------------------------------------------------------------------------
JWT_SECRET=your-super-secret-jwt-key-change-in-production-please
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# -----------------------------------------------------------------------------
# Backend API
# -----------------------------------------------------------------------------
BACKEND_PORT=8000
BACKEND_DEBUG=true

# -----------------------------------------------------------------------------
# Frontend
# -----------------------------------------------------------------------------
FRONTEND_PORT=3000
NEXT_PUBLIC_API_URL=http://localhost:8000

# -----------------------------------------------------------------------------
# Embedding Model Configuration
# Using HuggingFace sentence-transformers
# -----------------------------------------------------------------------------
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
# Alternatively, use a local path if model is downloaded
# EMBEDDING_MODEL_PATH=/path/to/local/model

# -----------------------------------------------------------------------------
# Analysis Configuration
# -----------------------------------------------------------------------------
# Max distinct values before column is considered "random text" vs "category"
CATEGORY_THRESHOLD=100
# Number of sample rows to fetch for high-cardinality columns
SAMPLE_SIZE=50
# Periodic re-analysis interval (in hours)
REANALYSIS_INTERVAL_HOURS=168
